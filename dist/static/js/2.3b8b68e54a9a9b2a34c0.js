webpackJsonp([2],{k4Tb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),s=a("woOf"),o=a.n(s),l=a("exGp"),i=a.n(l),c=a("CCn6"),u={data:function(){return{searchinfo:"",select:0}},props:{selectData:{type:Array,default:function(){return[]}}},methods:{changeData:function(){var e={searchinfo:this.searchinfo,id:this.select};this.$emit("searchData",e)}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"serch_box"},[a("el-input",{attrs:{placeholder:"请输入内容"},on:{input:e.changeData},model:{value:e.searchinfo,callback:function(t){e.searchinfo=t},expression:"searchinfo"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},e._l(e.selectData,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(u,d,!1,function(e){a("t8qR")},null,null).exports,p=a("oFuF"),f={name:"home",data:function(){return{pageIndex:1,radio1:0,radio2:0,userData:[],selectdata:["用户昵称","手机号码"],model:{}}},components:{search:h},created:function(){this.obtainUserList()},methods:{searchData:function(e){"0"==e.id?this.model.nickname=e.searchinfo:this.model.phoneNumber=e.searchinfo},obtainUserList:function(){var e=i()(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageIndex:this.pageIndex,pageSize:10},o()(t,this.model),e.next=4,Object(c.w)(t);case 4:(a=e.sent)&&((n=a.data).rows.forEach(function(e){e.createdTime=p.formatDate(e.createdTime,!0),e.gender=1==e.gender?"男":"女",e.status=1==e.status?"可用":"不可用",e.anchor=0==e.anchor?"观众":"主播"}),this.userData=n);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleClick:function(e){this.$router.push({path:"./userdetail/"+e})},handleCurrentChange:function(e){this.pageIndex=e,this.obtainUserList(),console.log("当前页: "+e)},bindSearchInfo:function(){this.radio1&&(this.model.anchor=this.radio1-1),this.radio2&&(this.model.gender=this.radio2),console.log(this.model),this.obtainUserList()},prohibitUser:function(){var e=i()(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,Object(c.m)(a);case 3:n=e.sent,console.log(n),0==n.code&&(this.$message({message:"操作成功",type:"success"}),this.obtainUserList());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"search_content"},[a("search",{staticClass:"search",attrs:{selectData:e.selectdata},on:{searchData:e.searchData}}),e._v(" "),a("div",{staticClass:"radio_box"},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("观众")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("主播")])],1),e._v(" "),a("div",{staticClass:"radio_box"},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("女")])],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.bindSearchInfo},slot:"append"},[e._v("点击搜索")])],1),e._v(" "),a("div",{staticClass:"table_content"},[a("el-table",{attrs:{data:e.userData.rows,border:""}},[a("el-table-column",{attrs:{prop:"nickname",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdTime",label:"注册时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"等级"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"signInDeviceType",label:"设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"anchor",label:"用户标识"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.row.clientId)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"可用"==t.row.status?"danger":"warning",size:"small"},on:{click:function(a){return e.prohibitUser(t.row.clientId)}}},[e._v(e._s("可用"==t.row.status?"禁用":"恢复"))])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next, jumper",total:e.userData.total},on:{"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var v=a("VU/8")(f,b,!1,function(e){a("zR66")},null,null);t.default=v.exports},t8qR:function(e,t){},zR66:function(e,t){}});